<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: Input/output</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1><a class="anchor" name="io">Input/output</a></h1><h2><a class="anchor" name="river_description_file">
River description file</a></h2>
The first input file that is always read in is the river description file. It contains information such as the geographical coordinates of parts of the river and the name/number of stocks and reach classes. This file is generally never modified (especially by users). After it is read in, the tree of river segments representing the river is created and the model is ready to load input files.<h2><a class="anchor" name="input_files">
Input files</a></h2>
Although there are different input and output formats for <a class="el" href="monte.html">Monte Carlo mode</a> and <a class="el" href="realtime.html">Realtime mode</a> the main input and output formats are described here since they are the most often used and the most important to understand.<p>
Input files consist of tokens which are read in using a parser (in <a class="el" href="parse_8c.html" title="Input file parser.">parse.c</a>). Input files may be retrospective input files (which store all the data for a scenario in a single file) or component input files (which store the data in several separate files). It is important to note that the parser treats all of these files the same when they are read in so there is nothing stopping a user from putting <a class="el" href="structspecies.html" title="Species parameters.">species</a> descriptions in a river environment file.<p>
Input files can be written out by the model (for example to confirm settings were read in correctly) and the code for this is in the dataio.c file. If the user attempts to write out a control file (file.ctrl) then a stub file is created along with one of each of the component input files which are included from the control file (this is logically just an entire scenario written across several different files).<p>
Currently the component input files are split up as follows (the assumed file extensions are parenthesized):<ul>
<li>Calibration file (clb): parameters related to stocks and releases. These parameters come from calibration routines and are not changed by most users.</li><li>River environment (riv): parameters about the river conditions and environment (such as temperature, turbidity, headwaters).</li><li>Dam operations (ops): dam parameters as well as operations parameters at dams (such as spill schedules).</li><li>Post-Bonneville (pbn): parameters related to the modeling of fish below the last dam on the river, Bonneville.</li><li>Extra (etc): parameters that don't fit elsewhere such as mortality class.</li><li>Control files (ctrl): described above, when a .ctrl file is saved, it saves one of each of the component types and the control file simply points to the other input files.</li></ul>
<h2><a class="anchor" name="output_files">
Output files</a></h2>
Output files are written out when the model is <a class="el" href="structrun.html" title="Entire run parameters.">run</a>. The code for this is in the summary.c file. These files summarize the results of a <a class="el" href="structrun.html" title="Entire run parameters.">run</a> and using output_settings tokens (see <a class="el" href="output__flags_8h.html#output_settings">Output Settings in COMPASS</a>) in river segments different pieces of data can be selected. <hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:44 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
