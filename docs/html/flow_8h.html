<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: flow.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>flow.h File Reference</h1>Flow calculations header. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8h.html#4ee5e3a31dc58c202e9b65b4d537881b">fill_headwaters_from_dams</a> (struct <a class="el" href="structriver__segment.html">river_segment</a> *start_seg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Routine to fill headwaters with flow based on flows already existing at dams.  <a href="#4ee5e3a31dc58c202e9b65b4d537881b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8h.html#0daa49734a6ab4e5a6b31ee33e9c1271">monte_prop_upstream</a> (struct <a class="el" href="structriver__segment.html">river_segment</a> **dam_list, struct <a class="el" href="structriver__segment.html">river_segment</a> **reach_list)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Routine called from monte carlo module to do upstream propagation.  <a href="#0daa49734a6ab4e5a6b31ee33e9c1271"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4b70d156de137b3d1db7fdb8929e3f24"></a><!-- doxytag: member="flow.h::propogate_elev_change" ref="4b70d156de137b3d1db7fdb8929e3f24" args="(struct river_segment *seg, double dam_top)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8h.html#4b70d156de137b3d1db7fdb8929e3f24">propogate_elev_change</a> (struct <a class="el" href="structriver__segment.html">river_segment</a> *seg, double dam_top)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Propogate elevation changes upstream if (a) there is a reach up there, and (b) the flow-max of that reach is big enough, and (c) the bottom of the river at the lower end of that reach is below the top of the dam we are propogating from. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8h.html#374a7eddfdffc7473f7bc2c6e3491aeb">modulate_flows</a> (struct <a class="el" href="structriver__segment.html">river_segment</a> **dam_list, struct <a class="el" href="structriver__segment.html">river_segment</a> **reach_list)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Routine to modulate the flows for a list of dams.  <a href="#374a7eddfdffc7473f7bc2c6e3491aeb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6dde185526858d278771d7bb716114d0"></a><!-- doxytag: member="flow.h::compute_all_flow" ref="6dde185526858d278771d7bb716114d0" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8h.html#6dde185526858d278771d7bb716114d0">compute_all_flow</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute flow at all segments. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flow_8h.html#9912a2d8c2816465e52d143522c08206">mark_only_dams_active</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Routine to mark all dams as active and all other segments as inactive.  <a href="#9912a2d8c2816465e52d143522c08206"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Flow calculations header. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="4ee5e3a31dc58c202e9b65b4d537881b"></a><!-- doxytag: member="flow.h::fill_headwaters_from_dams" ref="4ee5e3a31dc58c202e9b65b4d537881b" args="(struct river_segment *start_seg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fill_headwaters_from_dams           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structriver__segment.html">river_segment</a> *&nbsp;</td>
          <td class="paramname"> <em>start_seg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Routine to fill headwaters with flow based on flows already existing at dams. 
<p>
Fills regulated, then unregulated headwaters. 
</div>
</div><p>
<a class="anchor" name="9912a2d8c2816465e52d143522c08206"></a><!-- doxytag: member="flow.h::mark_only_dams_active" ref="9912a2d8c2816465e52d143522c08206" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_only_dams_active           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Routine to mark all dams as active and all other segments as inactive. 
<p>
Used to subvert flow regulation system to use for model initialization. 
</div>
</div><p>
<a class="anchor" name="374a7eddfdffc7473f7bc2c6e3491aeb"></a><!-- doxytag: member="flow.h::modulate_flows" ref="374a7eddfdffc7473f7bc2c6e3491aeb" args="(struct river_segment **dam_list, struct river_segment **reach_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void modulate_flows           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structriver__segment.html">river_segment</a> **&nbsp;</td>
          <td class="paramname"> <em>dam_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structriver__segment.html">river_segment</a> **&nbsp;</td>
          <td class="paramname"> <em>reach_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Routine to modulate the flows for a list of dams. 
<p>
marks the dams as active then calls a recursive routine to walk the tree in postorder keeping track of upstream flows. 
</div>
</div><p>
<a class="anchor" name="0daa49734a6ab4e5a6b31ee33e9c1271"></a><!-- doxytag: member="flow.h::monte_prop_upstream" ref="0daa49734a6ab4e5a6b31ee33e9c1271" args="(struct river_segment **dam_list, struct river_segment **reach_list)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void monte_prop_upstream           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structriver__segment.html">river_segment</a> **&nbsp;</td>
          <td class="paramname"> <em>dam_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structriver__segment.html">river_segment</a> **&nbsp;</td>
          <td class="paramname"> <em>reach_list</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Routine called from monte carlo module to do upstream propagation. 
<p>
first marks the active dams (those for which flow data is present). the active dams are considered regulation points. then the standard upstream propagation routine is called. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:43 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
