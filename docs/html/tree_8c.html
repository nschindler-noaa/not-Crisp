<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: tree.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>tree.c File Reference</h1>Implementation of a generic binary tree. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;<a class="el" href="tree_8h.html">tree.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="strtools_8h.html">strtools.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="unused_8h.html">unused.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TREE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#01c73fd9d13ae27e29128afe13f9d210">tree_init</a> (int(*compare)(), void(*datum_free)(), char value_is_ptr, unsigned int datum_size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The routine to initialize the tree package.  <a href="#01c73fd9d13ae27e29128afe13f9d210"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1858e07dfd56a3a51f2cebee27730f79"></a><!-- doxytag: member="tree.c::tree_reset" ref="1858e07dfd56a3a51f2cebee27730f79" args="(TREE *tree)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#1858e07dfd56a3a51f2cebee27730f79">tree_reset</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the current element pointer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="01e5d185f5518c3b95ddc51e43017852"></a><!-- doxytag: member="tree.c::tree_increment" ref="01e5d185f5518c3b95ddc51e43017852" args="(TREE *tree)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#01e5d185f5518c3b95ddc51e43017852">tree_increment</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increment the current element pointer, setting it to NULL if there are no more elements. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a12ab726ac963ec190fd67b661c888f0"></a><!-- doxytag: member="tree.c::get_current_tree_datum" ref="a12ab726ac963ec190fd67b661c888f0" args="(TREE *tree)" -->
data_type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#a12ab726ac963ec190fd67b661c888f0">get_current_tree_datum</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the data pointer for the current tree node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5a93a0266c8aa1d043f8b38658eed6f"></a><!-- doxytag: member="tree.c::get_tree_size" ref="a5a93a0266c8aa1d043f8b38658eed6f" args="(TREE *tree)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#a5a93a0266c8aa1d043f8b38658eed6f">get_tree_size</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of elements in the tree. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="60393647578e00e8dda397212636afab"></a><!-- doxytag: member="tree.c::tree_current_item_number" ref="60393647578e00e8dda397212636afab" args="(TREE *tree)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#60393647578e00e8dda397212636afab">tree_current_item_number</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns an integer corresponding to the number of the current tree node, with 0 as the first (comparatively least) node and tree-&gt;count - 1 as the last (comparatively greatest) node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2ec0d16279e5636be4fe894e0ff357be"></a><!-- doxytag: member="tree.c::tree_free" ref="2ec0d16279e5636be4fe894e0ff357be" args="(TREE *tree)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#2ec0d16279e5636be4fe894e0ff357be">tree_free</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The routine to deallocate a tree structure. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1fed49a81ff3409f70199290c1df29d"></a><!-- doxytag: member="tree.c::node_alloc" ref="b1fed49a81ff3409f70199290c1df29d" args="()" -->
tree_node *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#b1fed49a81ff3409f70199290c1df29d">node_alloc</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">allocates a node for the tree passed in <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="12087befddee1865941889bc9d588594"></a><!-- doxytag: member="tree.c::node_free" ref="12087befddee1865941889bc9d588594" args="(TREE *tree, struct tree_node *node)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#12087befddee1865941889bc9d588594">node_free</a> (TREE *tree, struct tree_node *node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">frees the node of the tree passed in <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="56843a5eea19293c823c5f5698e6270f"></a><!-- doxytag: member="tree.c::tree_element_exists" ref="56843a5eea19293c823c5f5698e6270f" args="(TREE *tree, data_type datum)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#56843a5eea19293c823c5f5698e6270f">tree_element_exists</a> (TREE *tree, data_type datum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if an element comparatively equal to datum exists in tree, false otherwise. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#17b04b194dc2aa3460665c92eb430f5c">tree_insert</a> (TREE *tree, data_type value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert an item with value value into tree tree Returns -1 on error, 0 if a new tree was created, 1 on normal insert.  <a href="#17b04b194dc2aa3460665c92eb430f5c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6e72cbf0ad2ca9f7a449f22896a0a6b8"></a><!-- doxytag: member="tree.c::tree_remove" ref="6e72cbf0ad2ca9f7a449f22896a0a6b8" args="(TREE *tree, data_type value)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#6e72cbf0ad2ca9f7a449f22896a0a6b8">tree_remove</a> (TREE *tree, data_type value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove the node matching value from the tree, if any such matches exist. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">data_type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tree_8c.html#6a03bc6312157daaa07b4cf6578f5ec8">tree_array</a> (TREE *tree)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a malloc'ed array of the tree data.  <a href="#6a03bc6312157daaa07b4cf6578f5ec8"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implementation of a generic binary tree. 
<p>
This tree also maintains a doubly linked list of its entries to ease walking the tree. In addition, the concept of a "current" tree element is maintained, in order to allow programmatic traversal of the tree external to this package and ease certain package operations. This particular tree does not allow insertion of multiple equivalent-valued items.<p>
The tree is designed to work with pointers as its data values. It may also work for some &lt;= sizeof(ptr) data values, but assuming that it will always work for such data values is dangerous. <hr><h2>Function Documentation</h2>
<a class="anchor" name="6a03bc6312157daaa07b4cf6578f5ec8"></a><!-- doxytag: member="tree.c::tree_array" ref="6a03bc6312157daaa07b4cf6578f5ec8" args="(TREE *tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">data_type tree_array           </td>
          <td>(</td>
          <td class="paramtype">TREE *&nbsp;</td>
          <td class="paramname"> <em>tree</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a malloc'ed array of the tree data. 
<p>
WARNING: The bcopy may not work for tree-&gt;size &lt; sizeof(datum_type), depending on byte order. 
</div>
</div><p>
<a class="anchor" name="01c73fd9d13ae27e29128afe13f9d210"></a><!-- doxytag: member="tree.c::tree_init" ref="01c73fd9d13ae27e29128afe13f9d210" args="(int(*compare)(), void(*datum_free)(), char value_is_ptr, unsigned int datum_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TREE* tree_init           </td>
          <td>(</td>
          <td class="paramtype">int (*)()&nbsp;</td>
          <td class="paramname"> <em>compare</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void (*)()&nbsp;</td>
          <td class="paramname"> <em>datum_free</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>value_is_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>datum_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The routine to initialize the tree package. 
<p>
Returns a tree pointer. The parameters are compare, a routine to compare two data and datum_free, the routine to free a datum. Defaults are provided if these function pointers are null.<p>
The compare function should return 0 if value2 is computationally equivalent to value1, less than zero (typically -1) if value2 is computationally less than value1 and greater than zero (typically 1) if value2 is computationally greater than value1.<p>
The datum_free function should free all associated data within datum.<p>
The value_is_ptr parameter tells whether the tree_value is a pointer to a value or simply a value.<p>
datum_size is the size of the datum if it is a value, or the size of the value pointed to, if it is a pointer.<p>
This is getting unwieldy. A better method (parameter list) would be nice. 
</div>
</div><p>
<a class="anchor" name="17b04b194dc2aa3460665c92eb430f5c"></a><!-- doxytag: member="tree.c::tree_insert" ref="17b04b194dc2aa3460665c92eb430f5c" args="(TREE *tree, data_type value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tree_insert           </td>
          <td>(</td>
          <td class="paramtype">TREE *&nbsp;</td>
          <td class="paramname"> <em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data_type&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Insert an item with value value into tree tree Returns -1 on error, 0 if a new tree was created, 1 on normal insert. 
<p>
The tree's current pointer is automatically set to the last element inserted. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:44 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
