<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: COMPASS GUI mode</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1><a class="anchor" name="gui">COMPASS GUI mode</a></h1>The COMPASS GUI consists of two main pieces:<ul>
<li>The new I/O tool interface which looks like a spreadsheet (see <a class="el" href="gui.html#io_tool">I/O tool interface</a>)</li><li>The old CRiSP interface (see <a class="el" href="gui.html#crisp_gui">Old CRiSP GUI</a>)</li></ul>
<p>
Both the new and the old GUI support an interface that allows changes to be made but they are not immediately applied. In the GUI this is visualized by having red dots appear in the corners of windows (or highlighting input cells with red) before changes are explicitly applied by the user. This is done using IDCs which are described in more detail in <a class="el" href="gui.html#idc">Interface Data Controllers</a>.<h2><a class="anchor" name="io_tool">
I/O tool interface</a></h2>
The I/O tool interface is the new interface. I believe it is intended to be the main interface for future use since it is smaller, simpler, and more Excel-like. The I/O tool is built on top of pieces of the old interface but is mostly new and separate. The code is mostly in the classes whose names start with "qIO" (as opposed to just a lowercase "q").<p>
The main pieces of the old GUI it relies upon are:<ul>
<li>The log window (see <a class="el" href="log_8h.html#log">Logging in COMPASS</a>)</li><li>Interface data controllers (see <a class="el" href="gui.html#idc">Interface Data Controllers</a>)</li><li>The integrated help system (see <a class="el" href="help.html">Integrated Help System</a>)</li></ul>
<p>
The I/O tool consists of the following logical pieces:<ul>
<li>The I/O tool which is the top-level window and container (qIOTool in qIOTool.h)</li><li>I/O sheets which are inside the I/O tool (qIOSheet in qIOSheet.h as well as qIOSIMPASSheet, qIOPostBonnevilleSheet)</li><li>I/O cells that perform calculations and are displayed to the user (all in qIOCell.h)</li><li>Top-level "manager" classes such as qScenarioManager, qMonteCarloManager, qHelpManager, and qFileManager</li></ul>
<p>
The I/O tool changes inputs using the IDCs (see <a class="el" href="gui.html#idc">Interface Data Controllers</a>) and outputs are calcualted from <a class="el" href="structrls__stats.html" title="Release summary statistics structure.">rls_stats</a> structures in river segments.<p>
Both scenario and Monte Carlo mode are supported. The I/O tool automatically creates an I/O alternative ("io-altern") which sets up the number of games to <a class="el" href="structrun.html" title="Entire run parameters.">run</a> and then executes them.<h2><a class="anchor" name="crisp_gui">
Old CRiSP GUI</a></h2>
The CRiSP GUI was originally written in C using the Rogue Wave toolkit. That toolkit was discontinued and the GUI was ported to zApp. Later, that toolkit was discontinued and the GUI was ported to C++ and the Qt 3.x toolkit (see <a class="el" href="build.html#build_qt">Qt and the Build Process</a>). The code has not been updated for Qt 4.x and there are no plans to do so at the moment. Understandably, the code can be a little confusing in places.<p>
The old GUI contains a helpful map interface to look at the river. It is not clear how much maintainance should be done on the old GUI. It is used by some people, but it's not the main goal of development at the moment. I personally only update it when it makes sense to me to do so or when I am told to update parts of it.<p>
The old GUI makes up the bulk of the C++ code in the source tree.<h2><a class="anchor" name="Documentation">
of the GUI</a></h2>
I never had enough time to document the GUI in depth, but hopefully a lot of it is straight-forward. The I/O cells for the I/O tool are mostly implemented using qIODamPassage cells in qIOCell.h.<h2><a class="anchor" name="idc">
Interface Data Controllers</a></h2>
The interface data controller interface was designed before I got here and it seems very complicated and convoluted. Basically what it does is it allows a buffer of modified data to be stored in memory before actually being applied to the model. This is used to implement the apply/reset buttons. Unfortunately, for single pieces of data IDCs are too heavy and don't even work, so I created a few simpler versions in qIdcData.cpp and qIdcData.h. <hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:44 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
