<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: parse.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>parse.c File Reference</h1>Input file parser. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &lt;math.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;errno.h&gt;</code><br>
<code>#include &quot;<a class="el" href="parseutil_8h.html">parseutil.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="c1tokens_8h.html">c1tokens.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="token_8h.html">token.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="crisp_8h.html">crisp.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="log_8h.html">log.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="river_8h.html">river.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="batch_8h.html">batch.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="gas__mort_8h.html">gas_mort.h</a>&quot;</code><br>
<code>#include &quot;release.h&quot;</code><br>
<code>#include &quot;<a class="el" href="table_8h.html">table.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="transport_8h.html">transport.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="flow_8h.html">flow.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="init_8h.html">init.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="pred_8h.html">pred.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="output__flags_8h.html">output_flags.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="writeutil_8h.html">writeutil.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="spill_8h.html">spill.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Input file parser. 
<p>
<h2><a class="anchor" name="parser">
COMPASS Input File Parser</a></h2>
The COMPASS input file parser is written in a straightforward manner but this has led to a rather gargantuan <a class="el" href="parse_8c.html" title="Input file parser.">parse.c</a> file. Rather than defining the form of different types of input tokens (e.g. equations, floating <a class="el" href="structpoint.html" title="Point structure that represents a geographic point using latitude and longitude.">point</a> numbers, integers, etc.) this parser relies on writing the code for pretty much every token by hand. Of course, functions are used to do the grunt work, but there still has to be huge switch statements with sections for each possible token in each possible place and this whole mess is on the verge of becoming unmaintainable.<p>
Of course, focusing on what's here rather than what should be here, the parser makes heavy use of macros (especially for reach classes) to make the code smaller and hopefully easier to read. When adding tokens, my suggestion is to find a token that's already the same type as what you need, copy it and modify it until it does what you want. <hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:43 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
