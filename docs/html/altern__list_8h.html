<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: altern_list.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>altern_list.h File Reference</h1>Alternative list manipulation for Monte Carlo mode. <a href="#_details">More...</a>
<p>
<code>#include &lt;time.h&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaltern__tree__node.html">altern_tree_node</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Alternative node.  <a href="structaltern__tree__node.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#8f4d2221798f6d8e7ff5acdda9486246">working_directory_modified</a> (time_t *dirtime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check to see if the current directory has changed at all since the time pointed to by the dirtime pointer.  <a href="#8f4d2221798f6d8e7ff5acdda9486246"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5dbae5011276d058f43ffa583d8c63f5"></a><!-- doxytag: member="altern_list.h::set_altern_updated_flag" ref="5dbae5011276d058f43ffa583d8c63f5" args="(time_t *last_checked)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#5dbae5011276d058f43ffa583d8c63f5">set_altern_updated_flag</a> (time_t *last_checked)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates the current time for the altern_files_modified function, treating all monte carlo files as having been checked as of the current time. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7f2ff44c41b70fc7bd02a0195f11a683"></a><!-- doxytag: member="altern_list.h::altern_files_modified" ref="7f2ff44c41b70fc7bd02a0195f11a683" args="(time_t *last_checked)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#7f2ff44c41b70fc7bd02a0195f11a683">altern_files_modified</a> (time_t *last_checked)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of Monte Carlo alternatives which have been modified since the last call to this function, and sets the altern_list flag for each alternative which has been modified, or -1 if one or more alternatives are no longer accessible. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="63a29914792751c3e71e84403920548f"></a><!-- doxytag: member="altern_list.h::monte_output_name" ref="63a29914792751c3e71e84403920548f" args="(char *dir_name)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#63a29914792751c3e71e84403920548f">monte_output_name</a> (char *dir_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to a static filename buffer which contains the name for the monte carlo output file for the given directory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4bd4fc907bde606b28b12c311bda73eb"></a><!-- doxytag: member="altern_list.h::monte_altern_name" ref="4bd4fc907bde606b28b12c311bda73eb" args="(const char *dir_name)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#4bd4fc907bde606b28b12c311bda73eb">monte_altern_name</a> (const char *dir_name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to a static filename buffer which contains the name for the monte carlo alternative file for the given directory. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="31527c07898c27c16fc59c5dcc45b555"></a><!-- doxytag: member="altern_list.h::altern_update_directory" ref="31527c07898c27c16fc59c5dcc45b555" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#31527c07898c27c16fc59c5dcc45b555">altern_update_directory</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the current directory from scratch, adding all Monte Carlo alternatives to the list. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9d7b0647b35a06830c12896c58ec536d"></a><!-- doxytag: member="altern_list.h::prune_altern_list" ref="9d7b0647b35a06830c12896c58ec536d" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#9d7b0647b35a06830c12896c58ec536d">prune_altern_list</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove all list items which no longer have readable output files. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b4a2181e44bb952ee764e323a30ee081"></a><!-- doxytag: member="altern_list.h::reset_altern_list" ref="b4a2181e44bb952ee764e323a30ee081" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#b4a2181e44bb952ee764e323a30ee081">reset_altern_list</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current node pointer to the front of the alternative list. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7456f2b4174c777bf53f63ea1f9b43c6"></a><!-- doxytag: member="altern_list.h::get_current_list_altern" ref="7456f2b4174c777bf53f63ea1f9b43c6" args="()" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#7456f2b4174c777bf53f63ea1f9b43c6">get_current_list_altern</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the name of the current list item. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#40731a046e3869d0420411c4c3afc962">search_altern_list</a> (const char *altern)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if "altern" found in tree, false otherwise.  <a href="#40731a046e3869d0420411c4c3afc962"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fd857c61c184ce8a8998fa45aa699f7c"></a><!-- doxytag: member="altern_list.h::altern_exists" ref="fd857c61c184ce8a8998fa45aa699f7c" args="(char *altern)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#fd857c61c184ce8a8998fa45aa699f7c">altern_exists</a> (char *altern)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if there is an element in the alternative tree whose name matches altern, false otherwise. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9168cded421221ea4debd6309e075b5e"></a><!-- doxytag: member="altern_list.h::get_altern_list_size" ref="9168cded421221ea4debd6309e075b5e" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#9168cded421221ea4debd6309e075b5e">get_altern_list_size</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of alternatives in the altern list. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6644eeb09300706165de954daef0138d"></a><!-- doxytag: member="altern_list.h::get_current_list_item_number" ref="6644eeb09300706165de954daef0138d" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#6644eeb09300706165de954daef0138d">get_current_list_item_number</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of the current list item, with 0 representing the first alternative in alphabetical order, and list size - 1 representing the last alternative in alphabetical order. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="91bc6674fef7056c48cd03c2dfd28a10"></a><!-- doxytag: member="altern_list.h::inc_altern_list" ref="91bc6674fef7056c48cd03c2dfd28a10" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#91bc6674fef7056c48cd03c2dfd28a10">inc_altern_list</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increments the altern_tree's current item pointer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a3ce451a6442c15b041b7dcd7f447682"></a><!-- doxytag: member="altern_list.h::set_current_altern_list_flag" ref="a3ce451a6442c15b041b7dcd7f447682" args="(int flag)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#a3ce451a6442c15b041b7dcd7f447682">set_current_altern_list_flag</a> (int flag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Toggles the flag for the current altern list item. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="74ed625f8994a1b7571aeb9360e1ef15"></a><!-- doxytag: member="altern_list.h::clear_all_altern_flags" ref="74ed625f8994a1b7571aeb9360e1ef15" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#74ed625f8994a1b7571aeb9360e1ef15">clear_all_altern_flags</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Steps through all altern_tree items, setting all of its flags to zero. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#af40e07d187bd8c397a4b41682155bef">get_current_altern_list_flag</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the flag value of the current tree element, which is expected to be 1 or 0.  <a href="#af40e07d187bd8c397a4b41682155bef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8aeb559c9c90521c66292128972eba94"></a><!-- doxytag: member="altern_list.h::altern_list_add" ref="8aeb559c9c90521c66292128972eba94" args="(const char *name)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#8aeb559c9c90521c66292128972eba94">altern_list_add</a> (const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add the named alternative to the tree. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="11d107d88b921a471dbad3b1d3c53af5"></a><!-- doxytag: member="altern_list.h::altern_list_remove" ref="11d107d88b921a471dbad3b1d3c53af5" args="(const char *name)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#11d107d88b921a471dbad3b1d3c53af5">altern_list_remove</a> (const char *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes an alternative matching name from the tree. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e72a130e2f1ee6d1f33a66b7c9c9cc47"></a><!-- doxytag: member="altern_list.h::empty_altern_list" ref="e72a130e2f1ee6d1f33a66b7c9c9cc47" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="altern__list_8h.html#e72a130e2f1ee6d1f33a66b7c9c9cc47">empty_altern_list</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Frees the tree. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Alternative list manipulation for Monte Carlo mode. 
<p>
This file defines the interface for manipulating the list of alternatives for use in Monte Carlo mode. This data comes mostly from the ".compass-alts" file and the alternatives themselves.<p>
This implementation uses the tree module defined in <a class="el" href="tree_8h.html" title="Definitions for the generic binary tree module.">tree.h</a>. <hr><h2>Function Documentation</h2>
<a class="anchor" name="af40e07d187bd8c397a4b41682155bef"></a><!-- doxytag: member="altern_list.h::get_current_altern_list_flag" ref="af40e07d187bd8c397a4b41682155bef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_current_altern_list_flag           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the flag value of the current tree element, which is expected to be 1 or 0. 
<p>
This function returns -1 if there is an error condition. (No list, or current pointer non-existent). 
</div>
</div><p>
<a class="anchor" name="40731a046e3869d0420411c4c3afc962"></a><!-- doxytag: member="altern_list.h::search_altern_list" ref="40731a046e3869d0420411c4c3afc962" args="(const char *altern)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int search_altern_list           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>altern</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if "altern" found in tree, false otherwise. 
<p>
If found, current altern pointer is left pointing at "altern"; if not found, is left pointing off end of list. NOTE search is case independant on PC, case dependant on Unix. 
</div>
</div><p>
<a class="anchor" name="8f4d2221798f6d8e7ff5acdda9486246"></a><!-- doxytag: member="altern_list.h::working_directory_modified" ref="8f4d2221798f6d8e7ff5acdda9486246" args="(time_t *dirtime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int working_directory_modified           </td>
          <td>(</td>
          <td class="paramtype">time_t *&nbsp;</td>
          <td class="paramname"> <em>dirtime</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check to see if the current directory has changed at all since the time pointed to by the dirtime pointer. 
<p>
For general use, this function should be called by a module which stores a static time_t variable recording the last time it called this function, so that it can perform any operations it needs to independent of other uses of this module. If the calling function has no desire to maintain its own pointer, then it can pass a null pointer and the internal static will be used.<p>
NOTE we actually track the date on ".compass-alts" in the current directory, because the DOS file system doesn't maintain a "last modified date" for directories, only for files. 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:43 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
