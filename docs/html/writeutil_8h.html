<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>COMPASS Source Code: writeutil.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>writeutil.h File Reference</h1>Utility functions for writing out information. <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &quot;<a class="el" href="log_8h.html">log.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="token_8h.html">token.h</a>&quot;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#4f8565a1473a3a68b987a97b75627f81">OUTPUT_ERROR</a>&nbsp;&nbsp;&nbsp;{ perror_msg (&quot;output_crisp_data&quot;); return (errno); }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUTPUT ERROR is called by the other routines whenever there is an error outputting information.  <a href="#4f8565a1473a3a68b987a97b75627f81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#271d4ddf62ae2ab392bdf1072e297951">OUTPUT_ITEM</a>(format, name, item)&nbsp;&nbsp;&nbsp;{if (outfile){if (fprintf(outfile, format, name, item) == EOF) OUTPUT_ERROR;}}</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUTPUT ITEM prints a generic item and checks for any errors.  <a href="#271d4ddf62ae2ab392bdf1072e297951"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#ed77b9a85b33f3457f8551bf96d37b02">OUTPUT_STRING</a>(format, name, string)&nbsp;&nbsp;&nbsp;{if (outfile){if (fprintf(outfile, format, name, (string==0 ? &quot; &quot; : string)) == EOF) OUTPUT_ERROR;}}</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUTPUT_STRING is very similar to OUTPUT ITEM, except that it checks "string" for a null value and substitutes a " " if the test is true.  <a href="#ed77b9a85b33f3457f8551bf96d37b02"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#35a34a996df6270c9c92269b1c5f3bbb">OUTPUT_END</a>(prefix, name, string)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUTPUT END is defined because we are not currently certain what the format of the "end" statement will be.  <a href="#35a34a996df6270c9c92269b1c5f3bbb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#770cd1596be261bee8d26c55e31589e0">OUTPUT_NEWLINE</a>&nbsp;&nbsp;&nbsp;{if (outfile){if (fprintf(outfile, &quot;\n&quot;) == EOF) OUTPUT_ERROR;}}</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUTPUT NEWLINE is a generic way to add blank lines to the output file.  <a href="#770cd1596be261bee8d26c55e31589e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#e9ff31c6fca44c2a270cc7e091c89184">OUTPUT_FLOAT_ARRAY</a>(prefix, name, size, float_type, array, conversion, multiplier, default_value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">OUTPUT FLOAT ARRAY outputs a floating <a class="el" href="structpoint.html" title="Point structure that represents a geographic point using latitude and longitude.">point</a> array 4 numbers to a line.  <a href="#e9ff31c6fca44c2a270cc7e091c89184"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#b5fce849cbb73037e23bd85dd396294a">perror_msg</a> (char *txt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Behaves like perror(3), except prints to the message window.  <a href="#b5fce849cbb73037e23bd85dd396294a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="writeutil_8h.html#78bc9e78ff74b7ba9c6154a5eef27b20">strdup_escape</a> (const char *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String escaping for placing text into/extracting text from an input file.  <a href="#78bc9e78ff74b7ba9c6154a5eef27b20"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Utility functions for writing out information. 
<p>
Note that this module makes heavy use of macros to save typing (hopefully). <hr><h2>Define Documentation</h2>
<a class="anchor" name="35a34a996df6270c9c92269b1c5f3bbb"></a><!-- doxytag: member="writeutil.h::OUTPUT_END" ref="35a34a996df6270c9c92269b1c5f3bbb" args="(prefix, name, string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_END          </td>
          <td>(</td>
          <td class="paramtype">prefix,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{<span class="keywordflow">if</span> (outfile){<span class="keywordflow">if</span> (fprintf(outfile, <span class="stringliteral">"%send %s (%s)\n\n"</span>, prefix, name, \
             (<span class="keywordtype">string</span>==0 ? <span class="stringliteral">" "</span> : <span class="keywordtype">string</span>)) == EOF) <a class="code" href="writeutil_8h.html#4f8565a1473a3a68b987a97b75627f81" title="OUTPUT ERROR is called by the other routines whenever there is an error outputting...">OUTPUT_ERROR</a>;}}
</pre></div>OUTPUT END is defined because we are not currently certain what the format of the "end" statement will be. 
<p>
Currently it is of the form "     end category (name)" followed by a blank line. This definition makes it easy to change. prefix is the amount of space to put before the "end" 
</div>
</div><p>
<a class="anchor" name="4f8565a1473a3a68b987a97b75627f81"></a><!-- doxytag: member="writeutil.h::OUTPUT_ERROR" ref="4f8565a1473a3a68b987a97b75627f81" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_ERROR&nbsp;&nbsp;&nbsp;{ perror_msg (&quot;output_crisp_data&quot;); return (errno); }          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OUTPUT ERROR is called by the other routines whenever there is an error outputting information. 
<p>
It uses "perror" to print the last error encountered, and then calls "return" with the error number as a parameter. 
</div>
</div><p>
<a class="anchor" name="e9ff31c6fca44c2a270cc7e091c89184"></a><!-- doxytag: member="writeutil.h::OUTPUT_FLOAT_ARRAY" ref="e9ff31c6fca44c2a270cc7e091c89184" args="(prefix, name, size, float_type, array, conversion, multiplier, default_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_FLOAT_ARRAY          </td>
          <td>(</td>
          <td class="paramtype">prefix,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float_type,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">array,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">conversion,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">multiplier,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">default_value&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{<span class="keywordflow">if</span> (outfile){\
    <a class="code" href="writeutil_8c.html#ead355e9d97ab6977159424e7271badf" title="OUTPUT FLOAT ARRAY outputs a floating point array 4 numbers to a line.">output_float_array</a>(outfile, prefix, name, size, array, conversion, multiplier, float_type, default_value);\
}}\
</pre></div>OUTPUT FLOAT ARRAY outputs a floating <a class="el" href="structpoint.html" title="Point structure that represents a geographic point using latitude and longitude.">point</a> array 4 numbers to a line. 
<p>
prefix is the amount of space to put before the 'name' of the variable (the first line). Currently each line except the first is indented three tab stops. name is a null terminated character string. size is an integer denoting the number of elements in the array, and array is the floating <a class="el" href="structpoint.html" title="Point structure that represents a geographic point using latitude and longitude.">point</a> array. 
</div>
</div><p>
<a class="anchor" name="271d4ddf62ae2ab392bdf1072e297951"></a><!-- doxytag: member="writeutil.h::OUTPUT_ITEM" ref="271d4ddf62ae2ab392bdf1072e297951" args="(format, name, item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_ITEM          </td>
          <td>(</td>
          <td class="paramtype">format,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">item&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{if (outfile){if (fprintf(outfile, format, name, item) == EOF) OUTPUT_ERROR;}}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OUTPUT ITEM prints a generic item and checks for any errors. 
<p>
format is of the type used by printf. name is a null terminated string. item is a number, character, or string. An example of use is: OUTPUT_ITEM(" %s %f", "variable is: ", float_var); where float_var=1.0 the output from the example would be " variable is: 1.000000" 
</div>
</div><p>
<a class="anchor" name="770cd1596be261bee8d26c55e31589e0"></a><!-- doxytag: member="writeutil.h::OUTPUT_NEWLINE" ref="770cd1596be261bee8d26c55e31589e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_NEWLINE&nbsp;&nbsp;&nbsp;{if (outfile){if (fprintf(outfile, &quot;\n&quot;) == EOF) OUTPUT_ERROR;}}          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OUTPUT NEWLINE is a generic way to add blank lines to the output file. 
<p>
An example of it's use is: OUTPUT_NEWLINE; which would add one blank line to the file 
</div>
</div><p>
<a class="anchor" name="ed77b9a85b33f3457f8551bf96d37b02"></a><!-- doxytag: member="writeutil.h::OUTPUT_STRING" ref="ed77b9a85b33f3457f8551bf96d37b02" args="(format, name, string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUT_STRING          </td>
          <td>(</td>
          <td class="paramtype">format,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">name,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;{if (outfile){if (fprintf(outfile, format, name, (string==0 ? &quot; &quot; : string)) == EOF) OUTPUT_ERROR;}}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OUTPUT_STRING is very similar to OUTPUT ITEM, except that it checks "string" for a null value and substitutes a " " if the test is true. 
<p>
format is of the type used by printf, name and string are both null terminated strings. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="b5fce849cbb73037e23bd85dd396294a"></a><!-- doxytag: member="writeutil.h::perror_msg" ref="b5fce849cbb73037e23bd85dd396294a" args="(char *txt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perror_msg           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>text</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Behaves like perror(3), except prints to the message window. 
<p>
Note that presently perror_msg always logs the message as type L_ERROR.<p>
Parameter is a pointer to char. 
</div>
</div><p>
<a class="anchor" name="78bc9e78ff74b7ba9c6154a5eef27b20"></a><!-- doxytag: member="writeutil.h::strdup_escape" ref="78bc9e78ff74b7ba9c6154a5eef27b20" args="(const char *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* strdup_escape           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
String escaping for placing text into/extracting text from an input file. 
<p>
These really only need to be used where quotation marks and such might appear (e.g. in free-form text entry boxes). 
</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 4 10:53:44 2008 for COMPASS Source Code by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
